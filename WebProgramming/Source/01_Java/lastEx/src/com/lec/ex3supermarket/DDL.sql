-- 테이블 생성 & 더미 데이터

-- 테이블 및 시퀀스 삭제
DROP TABLE CUSTOMER;
DROP TABLE cLEVEL;
DROP SEQUENCE CUSTOMER_ID_SQ;
-- 테이블 및 시퀀스 생성
CREATE TABLE cLEVEL (
    LEVELNO NUMBER(2) PRIMARY KEY,
    LEVELNAME VARCHAR2(50),
    MIN_NEED NUMBER(9),
    MAX_NEED NUMBER(9)
);
CREATE TABLE CUSTOMER (
    cID NUMBER(5) PRIMARY KEY,
    cTEL VARCHAR2(50) NOT NULL,
    cNAME VARCHAR2(50) NOT NULL,
    cPOINT NUMBER(8) DEFAULT 1000,
    cAMOUNT NUMBER(9) DEFAULT 0,
    LEVELNO NUMBER(2) DEFAULT 0 REFERENCES cLEVEL(LEVELNO)
);
CREATE SEQUENCE CUSTOMER_ID_SQ MAXVALUE 99999 NOCACHE NOCYCLE;
-- 더미데이터 insert
INSERT INTO cLEVEL VALUES(0, '일반고객', 0, 200000);
INSERT INTO cLEVEL VALUES(1, '우수고객', 200001, 1000000);
INSERT INTO cLEVEL VALUES(2, 'VIP', 1000001, 10000000);
INSERT INTO cLEVEL VALUES(3, 'VVIP', 10000001, 999999999);

INSERT INTO CUSTOMER VALUES(TO_CHAR(CUSTOMER_ID_SQ.NEXTVAL), '010-9999-9999', '홍길동', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO CUSTOMER VALUES(TO_CHAR(CUSTOMER_ID_SQ.NEXTVAL), '010-8888-9999', '김길동', DEFAULT, 4000000, 2);
INSERT INTO CUSTOMER VALUES(TO_CHAR(CUSTOMER_ID_SQ.NEXTVAL), '010-7777-7777', '신길동', DEFAULT, 300000, 1);
INSERT INTO CUSTOMER VALUES(TO_CHAR(CUSTOMER_ID_SQ.NEXTVAL), '010-1111-1111', '이상한놈', DEFAULT, 10000002, 3);

COMMIT;